{%extends 'portal/base.html'%} {%block content%}

<main>
  <!-- Page banner area start here -->
  {% comment %}
  <section class="page-banner bg-image pt-130 pb-130" data-background="/static/portal/assets/images/banner/signup.gif">
    <div class="container">
      <h2 class="wow fadeInUp mb-15" data-wow-duration="1.1s" data-wow-delay=".1s">
        Create Account
      </h2>
      <div class="breadcrumb-list wow fadeInUp" data-wow-duration="1.3s" data-wow-delay=".3s">
        <a href="index.html" class="primary-hover"><i class="fa-solid fa-house me-1"></i> Home
          <i class="fa-regular text-white fa-angle-right"></i></a>
        <span>Create Account</span>
      </div>
    </div>
  </section>
  {% endcomment %}
  <!-- Page banner area end here -->
  <br />
  <br />
  <br />
  <br />
  <!-- Login area start here -->
  <section class="login-area pt-130 pb-130">
    <div class="container">
      <div class="login__item">
        <div class="row g-4">
          <div class="col-xxl-8">
            <div class="login__image">
              <img src="/static/portal/assets/images/banner/signup-2.webp" alt="image" />
              <div class="btn-wrp">
                <a class="active" href="/login/">Sign In</a>
                <a href="portal/signup/">Create Account</a>
              </div>
            </div>
          </div>
          <div class="col-xxl-4">
            <div class="login__content">
              <h2 class="text-white mb-65">Create Account</h2>
              <div class="form-area login__form">
                <form method="post" action="{% url 'register' %}">
                  {% csrf_token %}
                  <!-- {% csrf_token %} -->
                  {% if error %}
                    <p style="color: red">{{ error }}</p>
                  {% endif %}
                  <input type="text" name="first_name" placeholder="First Name" required />
                  <input class="mt-30" type="text" name="last_name" placeholder="Last Name" required />
                  <input class="mt-30" type="text" name="phone_number" placeholder="Phone Number" required />
                  <!-- <input class="mt-30" type="text" name="username" placeholder="User Name" required /> -->
                  <input class="mt-30" type="email" name="email" placeholder="Email" required />

                  <div class="input-container">
                    <input class="mt-30 password-field" type="password" id="password1" name="password1"
                      placeholder="Enter Password" required />
                    <span class="toggle-password" onclick="togglePassword('password1')">üëÅÔ∏è</span>
                  </div>

                  <div class="input-container">
                      <input class="mt-30 password-field" type="password" id="password2" name="password2" placeholder="Confirm Password" required />
                      <span class="toggle-password" onclick="togglePassword('password2')">üëÅÔ∏è</span>
                  </div>

                  <button class="mt-30" type="submit">Create Account</button>
                </form>


                <!-- <span class="or pt-30 pb-40">OR</span>
                <div class="login__with">
                  <a href="#0"><img src="/static/portal/assets/images/icon/google.svg" alt="" />Continue with Google</a>
                  <a class="mt-15" href="#0"><img src="/static/portal/assets/images/icon/facebook.svg" alt="" />Continue
                    with Facebook</a>
                </div> -->
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <style>
    .input-container {
      position: relative;
      margin-bottom: 20px;
    }

    .password-field {
      width: 100%;
      padding-right: 40px;
      /* To create space for the icon */
    }

    .toggle-password {
      position: absolute;
      top: 50%;
      right: 10px;
      transform: translateY(-50%);
      cursor: pointer;
      font-size: 16px;
      color: #888;
    }

    .toggle-password:hover {
      color: #000;
    }
  </style>


  <script>
    function togglePassword(fieldId) {
      const field = document.getElementById(fieldId);
      if (field.type === "password") {
        field.type = "text";
      } else {
        field.type = "password";
      }
    }


    // const form = document.querySelector('form');
    // form.addEventListener('submit', async (event) => {
    //   event.preventDefault();
    //   const formData = new FormData(form);
    //   const response = await fetch('/register/', {
    //     method: 'POST',
    //     headers: { 'X-CSRFToken': formData.get('csrfmiddlewaretoken') },
    //     body: formData,
    //   });
    //   const result = await response.json();
    //   if (response.ok) {
    //     alert('Account created successfully!');
    //     window.location.href = '/login/';  // Redirect to login
    //   } else {
    //     alert(`Error: ${result.error || 'Failed to create account'}`);
    //   }
    // });

  </script>


  <!-- Login area end here -->
</main>

{%endblock content%}